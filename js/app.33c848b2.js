(function(e){function t(t){for(var n,r,u=t[0],s=t[1],c=t[2],l=0,f=[];l<u.length;l++)r=u[l],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&f.push(i[r][0]),i[r]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);_&&_(t);while(f.length)f.shift()();return o.push.apply(o,c||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],n=!0,u=1;u<a.length;u++){var s=a[u];0!==i[s]&&(n=!1)}n&&(o.splice(t--,1),e=r(r.s=a[0]))}return e}var n={},i={app:0},o=[];function r(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=n,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(a,n,function(t){return e[t]}.bind(null,n));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/Tetris/";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],s=u.push.bind(u);u.push=t,u=u.slice();for(var c=0;c<u.length;c++)t(u[c]);var _=s;o.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n,i=a("2b0e"),o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("div",{staticClass:"main"},[a("div",{staticClass:"operate"},[a("button",{staticStyle:{"border-radius":"50%"},on:{click:function(t){return e.spin_fun()}}},[e._v("旋转")]),a("div",[a("p",[a("button",{on:{click:function(t){return e.left_fun()}}},[e._v("左移")]),a("button",{on:{click:function(t){return e.right_fun()}}},[e._v("右移")])]),a("p",[a("button",{on:{click:function(t){return e.moveDown_fun()}}},[e._v("下移")])])])]),e._l(e.gameData_result,(function(t,n){return a("div",{key:n},e._l(t,(function(t,i){return a("div",{key:i,class:e.computer_diamondClass_fun(t,n,i)})})),0)})),a("button",{on:{click:function(t){e.game_allow=!e.game_allow}}},[e._v(e._s(e.game_allow?"暂停":"开始"))])],2)])},r=[],u=(a("99af"),a("cb29"),a("e9c4"),a("ac1f"),a("00b4"),a("fb6a"),a("7db0"),a("d3b7"),a("159b"),a("c740"),a("a434"),20),s=10,c=[{label:"田",value:[[1,1,0],[1,1,0],[0,0,0]]},{label:"L",value:[[0,1,1],[0,1,0],[0,1,0]]},{label:"J",value:[[1,1,0],[0,1,0],[0,1,0]]},{label:"Z",value:[[1,0,0],[1,1,0],[0,1,0]]},{label:"S",value:[[0,0,1],[0,1,1],[0,1,0]]},{label:"l",value:[[0,1,0],[0,1,0],[0,1,0]]},{label:"山",value:[[1,1,1],[0,1,0],[0,0,0]]}],_={name:"app",props:{},data:function(){return{game_allow:!1,gameData_move:[],gameData_fixed:[],gameData_result:[],gameData_move_center:{h:-1,w:-1},gameData_move_center_old:{h:0,w:0},bottom_setTime:!0}},mounted:function(){var e=this;document.addEventListener("keydown",(function(t){"ArrowLeft"===t.key&&e.left_fun(),"ArrowRight"===t.key&&e.right_fun(),"ArrowUp"===t.key&&e.spin_fun(),"ArrowDown"===t.key&&e.moveDown_fun()}))},created:function(){var e=this;this.initialize_gameData_fun(this.gameData_move,3),this.initialize_gameData_fun(this.gameData_fixed),this.initialize_gameData_fun(this.gameData_result),this.game_start_fun(),n=setInterval((function(){e.game_allow&&e.moveDown_fun()}),1e3)},methods:{game_start_fun:function(){this.gameData_move=this.initialize_gameData_fun(void 0,3),this.change_center_fun();var e=Math.floor(Math.random()*c.length),t=c[e];this.gameData_move_center.h=u+1,this.gameData_move_center.w=Math.floor(s/2);for(var a=this.gameData_move_center.h,n=this.gameData_move_center.w,i=t.value[0].concat(t.value[1]).concat(t.value[2]),o=a-1;o<=a+1;o++)for(var r=n-1;r<=n+1;r++){var _=i.shift();this.gameData_move[o][r]=_}},initialize_gameData_fun:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=0,n=new Array(u+t);a<n.length;a++){n[a];var i=new Array(s).fill(0);e.push(i)}return e},whereaboutsJudgment_fun:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.gameData_result,a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.initialize_gameData_fun(),i=!0,o=!0;for(var r in n)if(Object.hasOwnProperty.call(n,r))for(var s in n[r])Object.hasOwnProperty.call(n,s)&&(n[r][s]=this.gameData_move[r][s]+this.gameData_fixed[r][s],2==n[r][s]&&(1===t[1*r+1][s]&&(o=!1),i=!1));if(!1===i&&!1===o){if(console.log("重合结束"),this.gameData_fixed=JSON.parse(JSON.stringify(this.gameData_result)),/1/.test(n.slice(u-1,u+2)))return this.game_allow=!1,this.gameData_move=this.initialize_gameData_fun(void 0,3),this.change_center_fun(),alert("游戏结束，重新开始！！！"),location.reload(),!1;this.game_start_fun()}else!1===i&&!0===o?(console.log("重合异常"),this.gameData_move=JSON.parse(JSON.stringify(t)),this.$nextTick((function(){e.gameData_move_center.h=e.gameData_move_center_old.h,e.gameData_move_center.w=e.gameData_move_center_old.w}))):!0===i&&!1===a?(console.log("触底结束"),this.bottom_setTime=!1,setTimeout((function(){if(e.gameData_fixed=JSON.parse(JSON.stringify(n)),e.bottom_setTime=!0,/1/.test(n.slice(u-1,u+2)))return e.game_allow=!1,e.gameData_move=e.initialize_gameData_fun(void 0,3),e.change_center_fun(),alert("游戏结束，重新开始！！！"),location.reload(),!1;e.game_start_fun()}),500)):!0===i&&!0===a&&(console.log("正常显示结果"),this.gameData_result=n)},left_fun:function(){void 0===this.gameData_move.find((function(e){return 1===e[0]}))&&this.game_allow&&(console.log("左移"),this.change_center_fun(0,-1),this.gameData_move.forEach((function(e){e.shift(),e.push(0)})))},right_fun:function(){void 0===this.gameData_move.find((function(e){return 1===e[s-1]}))&&this.game_allow&&(console.log("右移"),this.change_center_fun(0,1),this.gameData_move.forEach((function(e){e.pop(),e.unshift(0)})))},moveDown_fun:function(){if(!this.game_allow||!this.bottom_setTime)return!1;console.log("下移"),this.change_center_fun(-1,0),this.gameData_move.shift(),this.gameData_move.push(new Array(s).fill(0))},spin_fun:function(){var e=this;if(-1===this.gameData_move_center.h&&-1===this.gameData_move_center.w&&this.game_allow)return!1;for(var t=this.gameData_move_center.h,a=this.gameData_move_center.w,n=[],i=[],o=!0,r=t-1;r<=t+1;r++)for(var c=a-1;c<=a+1;c++)if(r>-1&&r<u+3&&c>-1&&c<s&&1===this.gameData_move[r][c]){var _={h:r,w:c};n.push(_);var l=t-(_.w-a),f=a-(t-_.h);if(l<0||l>=u+3||f<0||f>=s||l<u&&1===this.gameData_fixed[l][f])return o=!1,!1;i.push({h:l,w:f})}o&&(console.log("旋转"),n.forEach((function(t){e.gameData_move[t.h][t.w]=0})),i.forEach((function(t){e.gameData_move[t.h][t.w]=1})),this.gameData_move=JSON.parse(JSON.stringify(this.gameData_move)))},change_center_fun:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(0===e&&0===t)return this.gameData_move_center.h=this.gameData_move_center.w=-1,!1;this.gameData_move_center.h+=e,this.gameData_move_center.w+=t},computer_diamondClass_fun:function(e,t,a){return 1===e&&1===this.gameData_fixed[t][a]?"diamond selected":1===e&&0===this.gameData_fixed[t][a]?"diamond move":"diamond"}},watch:{gameData_move_copy:{handler:function(e,t){console.log(123),e[0].find((function(e){return 1===e}))?this.whereaboutsJudgment_fun(t,!1):this.whereaboutsJudgment_fun(t)},deep:!0},gameData_fixed:function(){console.log("有新的无法移动棋子加入");var e=this.gameData_fixed.findIndex((function(e){return void 0===e.find((function(e){return 0==e}))}));-1!=e&&(this.gameData_fixed.splice(e,1),this.gameData_fixed.push(new Array(s).fill(0)),this.gameData_result=JSON.parse(JSON.stringify(this.gameData_fixed)))},gameData_move_center_copy:function(e,t){this.gameData_move_center_old.w=t.w,this.gameData_move_center_old.h=t.h}},computed:{gameData_move_copy:function(){return JSON.parse(JSON.stringify(this.gameData_move))},gameData_move_center_copy:function(){return JSON.parse(JSON.stringify(this.gameData_move_center))}},beforeDestroy:function(){clearInterval(n)}},l=_,f=(a("5c0b"),a("2877")),m=Object(f["a"])(l,o,r,!1,null,null,null),h=m.exports;i["a"].config.productionTip=!1,new i["a"]({render:function(e){return e(h)}}).$mount("#app")},"5c0b":function(e,t,a){"use strict";a("9c0c")},"9c0c":function(e,t,a){}});